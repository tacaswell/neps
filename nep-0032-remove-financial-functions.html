
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>NEP 32 — Remove the financial functions from NumPy &#8212; NumPy Enhancement Proposals</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/blank.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="NEP 35 — Array creation dispatching with __array_function__" href="nep-0035-array-creation-dispatch-with-array-function.html" />
    <link rel="prev" title="NEP 29 — Recommend Python and NumPy version support as a community policy standard" href="nep-0029-deprecation_policy.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<link rel="stylesheet" href="_static/numpy.css" type="text/css" />

    <!-- PR #17220: This is added via javascript in versionwarning.js  -->
    <!-- link rel="canonical" href="http://numpy.org/doc/stable/nep-0032-remove-financial-functions.html" / -->


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="content.html">
  <img src="_static/numpylogo.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  Index
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="scope.html">
  The Scope of NumPy
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="roadmap.html">
  Current roadmap
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://github.com/numpy/numpy/issues?q=is%3Aopen+is%3Aissue+label%3A%2223+-+Wish+List%22">Wishlist<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/numpy/numpy" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/numpy_team" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="scope.html">
   The Scope of NumPy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="roadmap.html">
   Current roadmap
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://github.com/numpy/numpy/issues?q=is%3Aopen+is%3Aissue+label%3A%2223+-+Wish+List%22">
   Wish list
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0000.html">
   NEP 0 — Purpose and process
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-template.html">
   NEP X — Template and instructions
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0034-infer-dtype-is-object.html">
   NEP 34 — Disallow inferring ``dtype=object`` from sequences
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0036-fair-play.html">
   NEP 36 — Fair play
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0038-SIMD-optimizations.html">
   NEP 38 — Using SIMD optimization instructions for performance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0041-improved-dtype-support.html">
   NEP 41 — First step towards a new datatype system
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0042-new-dtypes.html">
   NEP 42 — New and extensible DTypes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0044-restructuring-numpy-docs.html">
   NEP 44 — Restructuring the NumPy documentation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0045-c_style_guide.html">
   NEP 45 — C style guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0046-sponsorship-guidelines.html">
   NEP 46 — NumPy sponsorship guidelines
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0021-advanced-indexing.html">
   NEP 21 — Simplified and explicit advanced indexing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0030-duck-array-protocol.html">
   NEP 30 — Duck typing for NumPy arrays - Implementation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0031-uarray.html">
   NEP 31 — Context-local and global overrides of the NumPy API
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0037-array-module.html">
   NEP 37 — A dispatch protocol for NumPy-like modules
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0043-extensible-ufuncs.html">
   NEP 43 — Enhancing the extensibility of UFuncs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0047-array-api-standard.html">
   NEP 47 — Adopting the array API standard
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0048-spending-project-funds.html">
   NEP 48 — Spending NumPy project funds
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0001-npy-format.html">
   NEP 1 — A simple file format for NumPy arrays
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0005-generalized-ufuncs.html">
   NEP 5 — Generalized Universal Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0007-datetime-proposal.html">
   NEP 7 — A proposal for implementing some date/time types in NumPy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0010-new-iterator-ufunc.html">
   NEP 10 — Optimizing Iterator/UFunc performance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0013-ufunc-overrides.html">
   NEP 13 — A mechanism for overriding Ufuncs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0014-dropping-python2.7-proposal.html">
   NEP 14 — Plan for dropping Python 2.7 support
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0015-merge-multiarray-umath.html">
   NEP 15 — Merging multiarray and umath
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0018-array-function-protocol.html">
   NEP 18 — A dispatch mechanism for NumPy's high level array functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0019-rng-policy.html">
   NEP 19 — Random number generator policy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0020-gufunc-signature-enhancement.html">
   NEP 20 — Expansion of generalized universal function signatures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0022-ndarray-duck-typing-overview.html">
   NEP 22 — Duck typing for NumPy arrays – high level overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0023-backwards-compatibility.html">
   NEP 23 — Backwards compatibility and deprecation policy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0027-zero-rank-arrarys.html">
   NEP 27 — Zero rank arrays
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0028-website-redesign.html">
   NEP 28 — numpy.org website redesign
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0029-deprecation_policy.html">
   NEP 29 — Recommend Python and NumPy version support as a community policy standard
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   NEP 32 — Remove the financial functions from NumPy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0035-array-creation-dispatch-with-array-function.html">
   NEP 35 — Array creation dispatching with __array_function__
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0040-legacy-datatype-impl.html">
   NEP 40 — Legacy datatype implementation in NumPy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0049.html">
   NEP 49 — Data allocation strategies
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0002-warnfix.html">
   NEP 2 — A proposal to build numpy without warning with a big set of warning flags
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0003-math_config_clean.html">
   NEP 3 — Cleaning the math configuration of numpy.core
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0004-datetime-proposal3.html">
   NEP 4 — A (third) proposal for implementing some date/time types in NumPy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0006-newbugtracker.html">
   NEP 6 — Replacing Trac with a different bug tracker
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0008-groupby_additions.html">
   NEP 8 —  A proposal for adding groupby functionality to NumPy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0009-structured_array_extensions.html">
   NEP 9 — Structured array extensions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0011-deferred-ufunc-evaluation.html">
   NEP 11 — Deferred UFunc evaluation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0012-missing-data.html">
   NEP 12 — Missing data functionality in NumPy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0024-missing-data-2.html">
   NEP 24 — Missing data functionality - Alternative 1 to NEP 12
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0025-missing-data-3.html">
   NEP 25 — NA support via special dtypes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0026-missing-data-summary.html">
   NEP 26 — Summary of missing data NEPs and discussion
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0016-abstract-array.html">
   NEP 16 — An abstract base class for identifying "duck arrays"
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nep-0017-split-out-maskedarray.html">
   NEP 17 — Split out masked arrays
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#abstract">
   Abstract
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#motivation-and-scope">
   Motivation and scope
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#implementation">
   Implementation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#backward-compatibility">
   Backward compatibility
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#alternatives">
   Alternatives
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#discussion">
   Discussion
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#references-and-footnotes">
   References and footnotes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#copyright">
   Copyright
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="nep-32-remove-the-financial-functions-from-numpy">
<span id="nep32"></span><h1>NEP 32 — Remove the financial functions from NumPy<a class="headerlink" href="#nep-32-remove-the-financial-functions-from-numpy" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Author</dt>
<dd class="field-odd"><p>Warren Weckesser &lt;<a class="reference external" href="mailto:warren&#46;weckesser&#37;&#52;&#48;gmail&#46;com">warren<span>&#46;</span>weckesser<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</p>
</dd>
<dt class="field-even">Status</dt>
<dd class="field-even"><p>Final</p>
</dd>
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Standards Track</p>
</dd>
<dt class="field-even">Created</dt>
<dd class="field-even"><p>2019-08-30</p>
</dd>
<dt class="field-odd">Resolution</dt>
<dd class="field-odd"><p><a class="reference external" href="https://mail.python.org/pipermail/numpy-discussion/2019-September/080074.html">https://mail.python.org/pipermail/numpy-discussion/2019-September/080074.html</a></p>
</dd>
</dl>
<section id="abstract">
<h2>Abstract<a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>We propose deprecating and ultimately removing the financial functions <a class="footnote-reference brackets" href="#id19" id="id1">1</a>
from NumPy.  The functions will be moved to an independent repository,
and provided to the community as a separate package with the name
<code class="docutils literal notranslate"><span class="pre">numpy_financial</span></code>.</p>
</section>
<section id="motivation-and-scope">
<h2>Motivation and scope<a class="headerlink" href="#motivation-and-scope" title="Permalink to this headline">¶</a></h2>
<p>The NumPy financial functions <a class="footnote-reference brackets" href="#id19" id="id2">1</a> are the 10 functions <code class="docutils literal notranslate"><span class="pre">fv</span></code>, <code class="docutils literal notranslate"><span class="pre">ipmt</span></code>,
<code class="docutils literal notranslate"><span class="pre">irr</span></code>, <code class="docutils literal notranslate"><span class="pre">mirr</span></code>, <code class="docutils literal notranslate"><span class="pre">nper</span></code>, <code class="docutils literal notranslate"><span class="pre">npv</span></code>, <code class="docutils literal notranslate"><span class="pre">pmt</span></code>, <code class="docutils literal notranslate"><span class="pre">ppmt</span></code>, <code class="docutils literal notranslate"><span class="pre">pv</span></code> and <code class="docutils literal notranslate"><span class="pre">rate</span></code>.
The functions provide elementary financial calculations such as future value,
net present value, etc. These functions were added to NumPy in 2008 <a class="footnote-reference brackets" href="#id20" id="id3">2</a>.</p>
<p>In May, 2009, a request by Joe Harrington to add a function called <code class="docutils literal notranslate"><span class="pre">xirr</span></code> to
the financial functions triggered a long thread about these functions <a class="footnote-reference brackets" href="#id21" id="id4">3</a>.
One important point that came up in that thread is that a “real” financial
library must be able to handle real dates.  The NumPy financial functions do
not work with actual dates or calendars.  The preference for a more capable
library independent of NumPy was expressed several times in that thread.</p>
<p>In June, 2009, D. L. Goldsmith expressed concerns about the correctness of the
implementations of some of the financial functions <a class="footnote-reference brackets" href="#id22" id="id5">4</a>.  It was suggested then
to move the financial functions out of NumPy to an independent package.</p>
<p>In a GitHub issue in 2013 <a class="footnote-reference brackets" href="#id23" id="id6">5</a>, Nathaniel Smith suggested moving the financial
functions from the top-level namespace to <code class="docutils literal notranslate"><span class="pre">numpy.financial</span></code>.  He also
suggested giving the functions better names.  Responses at that time included
the suggestion to deprecate them and move them from NumPy to a separate
package.  This issue is still open.</p>
<p>Later in 2013 <a class="footnote-reference brackets" href="#id24" id="id7">6</a>, it was suggested on the mailing list that these functions
be removed from NumPy.</p>
<p>The arguments for the removal of these functions from NumPy:</p>
<ul class="simple">
<li><p>They are too specialized for NumPy.</p></li>
<li><p>They are not actually useful for “real world” financial calculations, because
they do not handle real dates and calendars.</p></li>
<li><p>The definition of “correctness” for some of these functions seems to be a
matter of convention, and the current NumPy developers do not have the
background to judge their correctness.</p></li>
<li><p>There has been little interest among past and present NumPy developers
in maintaining these functions.</p></li>
</ul>
<p>The main arguments for keeping the functions in NumPy are:</p>
<ul class="simple">
<li><p>Removing these functions will be disruptive for some users.  Current users
will have to add the new <code class="docutils literal notranslate"><span class="pre">numpy_financial</span></code> package to their dependencies,
and then modify their code to use the new package.</p></li>
<li><p>The functions provided, while not “industrial strength”, are apparently
similar to functions provided by spreadsheets and some calculators.  Having
them available in NumPy makes it easier for some developers to migrate their
software to Python and NumPy.</p></li>
</ul>
<p>It is clear from comments in the mailing list discussions and in the GitHub
issues that many current NumPy developers believe the benefits of removing
the functions outweigh the costs.  For example, from <a class="footnote-reference brackets" href="#id23" id="id8">5</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>The financial functions should probably be part of a separate package
-- Charles Harris

If there&#39;s a better package we can point people to we could just deprecate
them and then remove them entirely... I&#39;d be fine with that too...
-- Nathaniel Smith

+1 to deprecate them. If no other package exists, it can be created if
someone feels the need for that.
-- Ralf Gommers

I feel pretty strongly that we should deprecate these. If nobody on numpy’s
core team is interested in maintaining them, then it is purely a drag on
development for NumPy.
-- Stephan Hoyer
</pre></div>
</div>
<p>And from the 2013 mailing list discussion, about removing the functions from
NumPy:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">I</span> <span class="n">am</span> <span class="o">+</span><span class="mi">1</span> <span class="k">as</span> <span class="n">well</span><span class="p">,</span> <span class="n">I</span> <span class="n">don</span><span class="s1">&#39;t think they should have been included in the first</span>
<span class="n">place</span><span class="o">.</span>
<span class="o">--</span> <span class="n">David</span> <span class="n">Cournapeau</span>
</pre></div>
</div>
<p>But not everyone was in favor of removal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">fin</span> <span class="n">routines</span> <span class="n">are</span> <span class="n">tiny</span> <span class="ow">and</span> <span class="n">don</span><span class="s1">&#39;t require much maintenance once</span>
<span class="n">written</span><span class="o">.</span>  <span class="n">If</span> <span class="n">we</span> <span class="n">made</span> <span class="n">an</span> <span class="n">effort</span> <span class="p">(</span><span class="n">putting</span> <span class="n">up</span> <span class="n">pages</span> <span class="k">with</span> <span class="n">examples</span> <span class="n">of</span> <span class="n">common</span>
<span class="n">financial</span> <span class="n">calculations</span> <span class="ow">and</span> <span class="n">collecting</span> <span class="n">those</span> <span class="n">under</span> <span class="n">a</span> <span class="n">topical</span> <span class="n">web</span> <span class="n">page</span><span class="p">,</span>
<span class="n">then</span> <span class="n">linking</span> <span class="n">to</span> <span class="n">that</span> <span class="n">page</span> <span class="kn">from</span> <span class="nn">various</span> <span class="n">places</span> <span class="ow">and</span> <span class="n">talking</span> <span class="n">it</span> <span class="n">up</span><span class="p">),</span> <span class="n">I</span>
<span class="n">would</span> <span class="n">think</span> <span class="n">they</span> <span class="n">could</span> <span class="n">attract</span> <span class="n">users</span> <span class="n">looking</span> <span class="k">for</span> <span class="n">a</span> <span class="n">free</span> <span class="n">way</span> <span class="n">to</span> <span class="n">play</span> <span class="k">with</span>
<span class="n">financial</span> <span class="n">scenarios</span><span class="o">.</span>  <span class="p">[</span><span class="o">...</span><span class="p">]</span>
<span class="n">So</span><span class="p">,</span> <span class="n">I</span> <span class="n">would</span> <span class="n">say</span> <span class="n">we</span> <span class="n">keep</span> <span class="n">them</span><span class="o">.</span>  <span class="n">If</span> <span class="n">ours</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">the</span> <span class="n">best</span><span class="p">,</span> <span class="n">we</span> <span class="n">should</span> <span class="n">bring</span>
<span class="n">them</span> <span class="n">up</span> <span class="n">to</span> <span class="n">snuff</span><span class="o">.</span>
<span class="o">--</span> <span class="n">Joe</span> <span class="n">Harrington</span>
</pre></div>
</div>
<p>For an idea of the maintenance burden of the financial functions, one can
look for all the GitHub issues <a class="footnote-reference brackets" href="#id25" id="id9">7</a> and pull requests <a class="footnote-reference brackets" href="#id26" id="id10">8</a> that have the tag
<code class="docutils literal notranslate"><span class="pre">component:</span> <span class="pre">numpy.lib.financial</span></code>.</p>
<p>One method for measuring the effect of removing these functions is to find
all the packages on GitHub that use them.  Such a search can be performed
with the <code class="docutils literal notranslate"><span class="pre">python-api-inspect</span></code> service <a class="footnote-reference brackets" href="#id27" id="id11">9</a>.  A search for all uses of the
NumPy financial functions finds just eight repositories.  (See the comments
in <a class="footnote-reference brackets" href="#id23" id="id12">5</a> for the actual SQL query.)</p>
</section>
<section id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Create a new Python package, <code class="docutils literal notranslate"><span class="pre">numpy_financial</span></code>, to be maintained in the
top-level NumPy github organization.  This repository will contain the
definitions and unit tests for the financial functions.  The package will
be added to PyPI so it can be installed with <code class="docutils literal notranslate"><span class="pre">pip</span></code>.</p></li>
<li><p>Deprecate the financial functions in the <code class="docutils literal notranslate"><span class="pre">numpy</span></code> namespace, beginning in
NumPy version 1.18. Remove the financial functions from NumPy version 1.20.</p></li>
</ul>
</section>
<section id="backward-compatibility">
<h2>Backward compatibility<a class="headerlink" href="#backward-compatibility" title="Permalink to this headline">¶</a></h2>
<p>The removal of these functions breaks backward compatibility, as explained
earlier.  The effects are mitigated by providing the <code class="docutils literal notranslate"><span class="pre">numpy_financial</span></code>
library.</p>
</section>
<section id="alternatives">
<h2>Alternatives<a class="headerlink" href="#alternatives" title="Permalink to this headline">¶</a></h2>
<p>The following alternatives were mentioned in <a class="footnote-reference brackets" href="#id23" id="id13">5</a>:</p>
<ul class="simple">
<li><p><em>Maintain the functions as they are (i.e. do nothing).</em>
A review of the history makes clear that this is not the preference of many
NumPy developers.  A recurring comment is that the functions simply do not
belong in NumPy.  When that sentiment is combined with the history of bug
reports and the ongoing questions about the correctness of the functions, the
conclusion is that the cleanest solution is deprecation and removal.</p></li>
<li><p><em>Move the functions from the ``numpy`` namespace to ``numpy.financial``.</em>
This was the initial suggestion in <a class="footnote-reference brackets" href="#id23" id="id14">5</a>.  Such a change does not address the
maintenance issues, and doesn’t change the misfit that many developers see
between these functions and NumPy.  It causes disruption for the current
users of these functions without addressing what many developers see as the
fundamental problem.</p></li>
</ul>
</section>
<section id="discussion">
<h2>Discussion<a class="headerlink" href="#discussion" title="Permalink to this headline">¶</a></h2>
<p>Links to past mailing list discussions, and to relevant GitHub issues and pull
requests, have already been given.  The announcement of this NEP was made on
the NumPy-Discussion mailing list on 3 September 2019 <a class="footnote-reference brackets" href="#id28" id="id15">10</a>, and on the
PyData mailing list on 8 September 2019 <a class="footnote-reference brackets" href="#id29" id="id16">11</a>.  The formal proposal to accept
the NEP was made on 19 September 2019 <a class="footnote-reference brackets" href="#id30" id="id17">12</a>; a notification was also sent to
PyData (same thread as <a class="footnote-reference brackets" href="#id29" id="id18">11</a>).  There have been no substantive objections.</p>
</section>
<section id="references-and-footnotes">
<h2>References and footnotes<a class="headerlink" href="#references-and-footnotes" title="Permalink to this headline">¶</a></h2>
<dl class="footnote brackets">
<dt class="label" id="id19"><span class="brackets">1</span><span class="fn-backref">(<a href="#id1">1</a>,<a href="#id2">2</a>)</span></dt>
<dd><p>Financial functions,
<a class="reference external" href="https://numpy.org/doc/1.17/reference/routines.financial.html">https://numpy.org/doc/1.17/reference/routines.financial.html</a></p>
</dd>
<dt class="label" id="id20"><span class="brackets"><a class="fn-backref" href="#id3">2</a></span></dt>
<dd><p>NumPy-Discussion mailing list, “Simple financial functions for NumPy”,
<a class="reference external" href="https://mail.python.org/pipermail/numpy-discussion/2008-April/032353.html">https://mail.python.org/pipermail/numpy-discussion/2008-April/032353.html</a></p>
</dd>
<dt class="label" id="id21"><span class="brackets"><a class="fn-backref" href="#id4">3</a></span></dt>
<dd><p>NumPy-Discussion mailing list, “add xirr to numpy financial functions?”,
<a class="reference external" href="https://mail.python.org/pipermail/numpy-discussion/2009-May/042645.html">https://mail.python.org/pipermail/numpy-discussion/2009-May/042645.html</a></p>
</dd>
<dt class="label" id="id22"><span class="brackets"><a class="fn-backref" href="#id5">4</a></span></dt>
<dd><p>NumPy-Discussion mailing list, “Definitions of pv, fv, nper, pmt, and rate”,
<a class="reference external" href="https://mail.python.org/pipermail/numpy-discussion/2009-June/043188.html">https://mail.python.org/pipermail/numpy-discussion/2009-June/043188.html</a></p>
</dd>
<dt class="label" id="id23"><span class="brackets">5</span><span class="fn-backref">(<a href="#id6">1</a>,<a href="#id8">2</a>,<a href="#id12">3</a>,<a href="#id13">4</a>,<a href="#id14">5</a>)</span></dt>
<dd><p>Get financial functions out of main namespace,
<a class="reference external" href="https://github.com/numpy/numpy/issues/2880">https://github.com/numpy/numpy/issues/2880</a></p>
</dd>
<dt class="label" id="id24"><span class="brackets"><a class="fn-backref" href="#id7">6</a></span></dt>
<dd><p>NumPy-Discussion mailing list, “Deprecation of financial routines”,
<a class="reference external" href="https://mail.python.org/pipermail/numpy-discussion/2013-August/067409.html">https://mail.python.org/pipermail/numpy-discussion/2013-August/067409.html</a></p>
</dd>
<dt class="label" id="id25"><span class="brackets"><a class="fn-backref" href="#id9">7</a></span></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">component:</span> <span class="pre">numpy.lib.financial</span></code> issues,
<a class="reference external" href="https://github.com/numpy/numpy/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+label%3A%22component%3A+numpy.lib.financial%22+">https://github.com/numpy/numpy/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+label%3A%22component%3A+numpy.lib.financial%22+</a></p>
</dd>
<dt class="label" id="id26"><span class="brackets"><a class="fn-backref" href="#id10">8</a></span></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">component:</span> <span class="pre">numpy.lib.financial</span></code> pull requests,
<a class="reference external" href="https://github.com/numpy/numpy/pulls?utf8=%E2%9C%93&amp;q=is%3Apr+label%3A%22component%3A+numpy.lib.financial%22+">https://github.com/numpy/numpy/pulls?utf8=%E2%9C%93&amp;q=is%3Apr+label%3A%22component%3A+numpy.lib.financial%22+</a></p>
</dd>
<dt class="label" id="id27"><span class="brackets"><a class="fn-backref" href="#id11">9</a></span></dt>
<dd><p>Quansight-Labs/python-api-inspect,
<a class="reference external" href="https://github.com/Quansight-Labs/python-api-inspect/">https://github.com/Quansight-Labs/python-api-inspect/</a></p>
</dd>
<dt class="label" id="id28"><span class="brackets"><a class="fn-backref" href="#id15">10</a></span></dt>
<dd><p>NumPy-Discussion mailing list, “NEP 32: Remove the financial functions
from NumPy”
<a class="reference external" href="https://mail.python.org/pipermail/numpy-discussion/2019-September/079965.html">https://mail.python.org/pipermail/numpy-discussion/2019-September/079965.html</a></p>
</dd>
<dt class="label" id="id29"><span class="brackets">11</span><span class="fn-backref">(<a href="#id16">1</a>,<a href="#id18">2</a>)</span></dt>
<dd><p>PyData mailing list (<a class="reference external" href="mailto:pydata&#37;&#52;&#48;googlegroups&#46;com">pydata<span>&#64;</span>googlegroups<span>&#46;</span>com</a>), “NumPy proposal to
remove the financial functions.
<a class="reference external" href="https://mail.google.com/mail/u/0/h/1w0mjgixc4rpe/?&amp;th=16d5c38be45f77c4&amp;q=nep+32&amp;v=c&amp;s=q">https://mail.google.com/mail/u/0/h/1w0mjgixc4rpe/?&amp;th=16d5c38be45f77c4&amp;q=nep+32&amp;v=c&amp;s=q</a></p>
</dd>
<dt class="label" id="id30"><span class="brackets"><a class="fn-backref" href="#id17">12</a></span></dt>
<dd><p>NumPy-Discussion mailing list, “Proposal to accept NEP 32: Remove the
financial functions from NumPy”
<a class="reference external" href="https://mail.python.org/pipermail/numpy-discussion/2019-September/080074.html">https://mail.python.org/pipermail/numpy-discussion/2019-September/080074.html</a></p>
</dd>
</dl>
</section>
<section id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Permalink to this headline">¶</a></h2>
<p>This document has been placed in the public domain.</p>
</section>
</section>


              </div>
              
              
          </main>
          

      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2017-2018, NumPy Developers.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.2.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>